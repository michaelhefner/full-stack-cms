// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model Navigation {
  id                     String       @id @default(cuid())
  title                  String       @default("")
  url                    String       @unique @default("")
  basicpages             BasicPage?   @relation("BasicPage_navigation")
  parent                 Navigation?  @relation("Navigation_parent", fields: [parentId], references: [id])
  parentId               String?      @map("parent")
  status                 Status[]     @relation("Navigation_status")
  from_Navigation_parent Navigation[] @relation("Navigation_parent")

  @@index([parentId])
}

model BasicPage {
  id           String      @id @default(cuid())
  title        String      @default("")
  navigation   Navigation? @relation("BasicPage_navigation", fields: [navigationId], references: [id])
  navigationId String?     @unique @map("navigation")
  content      Content[]   @relation("BasicPage_content")
  author       User?       @relation("BasicPage_author", fields: [authorId], references: [id])
  authorId     String?     @map("author")
  tags         Tag[]       @relation("BasicPage_tags")
  status       Status?     @relation("BasicPage_status", fields: [statusId], references: [id])
  statusId     String?     @map("status")
  publishedAt  DateTime?   @default(now())

  @@index([authorId])
  @@index([statusId])
}

model Content {
  id          String      @id @default(cuid())
  title       String      @default("")
  author      User?       @relation("Content_author", fields: [authorId], references: [id])
  authorId    String?     @map("author")
  classes     String      @default("section-content")
  tags        Tag[]       @relation("Content_tags")
  basicpages  BasicPage[] @relation("BasicPage_content")
  content     String      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  publishedAt DateTime?   @default(now())

  @@index([authorId])
}

model Tag {
  id            String      @id @default(cuid())
  name          String      @default("")
  tags          Tag[]       @relation("Tag_tags")
  content       Content[]   @relation("Content_tags")
  basicpages    BasicPage[] @relation("BasicPage_tags")
  from_Tag_tags Tag[]       @relation("Tag_tags")
}

model Image {
  id              String  @id @default(cuid())
  name            String  @default("")
  altText         String  @default("")
  image_id        String?
  image_filesize  Int?
  image_width     Int?
  image_height    Int?
  image_extension String?
}

model Status {
  id         String       @id @default(cuid())
  title      String       @default("")
  status     String       @default("draft")
  pagestatus BasicPage[]  @relation("BasicPage_status")
  navigation Navigation[] @relation("Navigation_status")
}

model SiteSetting {
  id                String  @id @default(cuid())
  title             String  @default("")
  url               String  @unique @default("")
  metaDescription   String  @default("")
  logo_id           String?
  logo_filesize     Int?
  logo_width        Int?
  logo_height       Int?
  logo_extension    String?
  favicon_id        String?
  favicon_filesize  Int?
  favicon_width     Int?
  favicon_height    Int?
  favicon_extension String?
}

model User {
  id         String      @id @default(cuid())
  name       String      @default("")
  email      String      @unique @default("")
  password   String
  isAdmin    Boolean     @default(false)
  content    Content[]   @relation("Content_author")
  basicpages BasicPage[] @relation("BasicPage_author")
  createdAt  DateTime?   @default(now())
}
